<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Qu·∫£n l√Ω s·∫£n ph·∫©m</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>
  <div id="left-menu">
    <div id="logo">
      <img src="assets/img/logo1.png" alt="logo" />
    </div>
    <div id="menu">
      <div class="menu-item active"><a href="quanlysanpham.html"><i class="fa-solid fa-boxes-stacked"></i> Qu·∫£n l√Ω s·∫£n ph·∫©m</a></div>
      <div class="menu-item"><a href="quanlychitieu.html"><i class="fa-solid fa-wallet"></i> Qu·∫£n l√Ω chi ti√™u</a></div>
      <div class="menu-item"><a href="quanlydonhang.html"><i class="fa-solid fa-receipt"></i> Qu·∫£n l√Ω ƒë∆°n h√†ng</a></div>
    </div>
  </div>

  <div id="main">
    <div id="navbar">
      <div id="search">
        <input type="text" placeholder="T√¨m s·∫£n ph·∫©m..." />
        <button><i class="fa-solid fa-magnifying-glass"></i></button>
      </div>
      <div id="profile">
        <div class="myprofile">
          <img src="assets/img/avt/1.jpg" />
          <div class="user-info">
            <p id="name">Nguyen Phuoc Thinh</p>
            <p id="role">Qu·∫£n tr·ªã vi√™n</p>
          </div>
        </div>
        <div id="profile-dropdown">
          <div class="header">
            <img src="assets/img/avt/1.jpg" />
            <div class="info">
              <p class="name">Nguyen Phuoc Thinh</p>
              <p class="email">enpity@gmail.com</p>
              <button>Xem Profile</button>
            </div>
          </div>
          <ul>
            <li><a href="#">Xem ƒë∆°n ƒë·∫∑t h√†ng</a></li>
            <li><a href="#">C√†i ƒë·∫∑t t√†i kho·∫£n</a></li>
            <li><a href="#">ƒêƒÉng xu·∫•t</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div id="main-content">
      <h3>‚ûï Qu·∫£n l√Ω s·∫£n ph·∫©m</h3>
    
      <!-- Form th√™m s·∫£n ph·∫©m -->
      <form id="productForm">
        <label for="tenSanPham">T√™n s·∫£n ph·∫©m:</label>
        <input type="text" id="tenSanPham" name="tenSanPham" required />
    
        <label for="giaTien">Gi√° ti·ªÅn (VND):</label>
        <input type="number" id="giaTien" name="giaTien" required />
    
        <label for="hinhAnh" style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <i class="fa-regular fa-image" style="font-size: 22px; color: #6c5ce7;"></i> Ch·ªçn ·∫£nh s·∫£n ph·∫©m
        </label>
        <input type="file" id="hinhAnh" name="hinhAnh" accept="image/*" style="display: none;" />
        <span id="tenFileAnh" style="font-style: italic; font-size: 10px;"></span>
    
        <button type="submit">Th√™m s·∫£n ph·∫©m</button>
      </form>
    
      
      <h3 style="margin-top: 30px;">üì¶ Danh s√°ch s·∫£n ph·∫©m</h3>
      <table id="bangSanPham">
        <thead>
          <tr>
            <th>STT</th>
            <th>T√™n s·∫£n ph·∫©m</th>
            <th>Gi√°</th>
            <th>H√¨nh ·∫£nh</th>
            <th>H√†nh ƒë·ªông</th>
          </tr>
        </thead>
        <tbody>
          <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c th√™m ·ªü ƒë√¢y -->
        </tbody>
      </table>
    </div>

    <script>
      let danhSach = [];
      let stt = 1;
      let editingIndex = -1;
    
      document.getElementById("hinhAnh").addEventListener("change", function () {
        const fileName = this.files[0] ? this.files[0].name : "";
        document.getElementById("tenFileAnh").textContent = fileName;
      });
    
      document.getElementById("productForm").addEventListener("submit", function (e) {
        e.preventDefault();
    
        const ten = document.getElementById("tenSanPham").value;
        const gia = document.getElementById("giaTien").value;
        const fileInput = document.getElementById("hinhAnh");
        const file = fileInput.files[0];
        const anhURL = file ? URL.createObjectURL(file) : "";
    
        const sanPham = { ten, gia, anh: anhURL };
    
        if (editingIndex === -1) {
          danhSach.push(sanPham);
        } else {
          danhSach[editingIndex] = sanPham;
          editingIndex = -1;
        }
    
        hienThiBang();
        this.reset();
        document.getElementById("tenFileAnh").textContent = "";
      });
    
      function hienThiBang() {
        const tbody = document.querySelector("#bangSanPham tbody");
        tbody.innerHTML = "";
    
        danhSach.forEach((sp, index) => {
          const row = document.createElement("tr");
    
          row.innerHTML = `
            <td>${index + 1}</td>
            <td>${sp.ten}</td>
            <td>${sp.gia}‚Ç´</td>
            <td><img src="${sp.anh}" alt="·∫¢nh" width="60" /></td>
            <td>
              <button onclick="suaSanPham(${index})">‚úèÔ∏è S·ª≠a</button>
              <button onclick="xoaSanPham(${index})">üóëÔ∏è X√≥a</button>
            </td>
          `;
          tbody.appendChild(row);
        });
      }
    
      function suaSanPham(index) {
        const sp = danhSach[index];
        document.getElementById("tenSanPham").value = sp.ten;
        document.getElementById("giaTien").value = sp.gia;
        document.getElementById("tenFileAnh").textContent = "B·∫°n c·∫ßn ch·ªçn l·∫°i ·∫£nh n·∫øu mu·ªën s·ª≠a ·∫£nh.";
        editingIndex = index;
      }
    
      function xoaSanPham(index) {
        if (confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m n√†y?")) {
          danhSach.splice(index, 1);
          hienThiBang();
        }
      }
    </script>
    
</body>
</html>
